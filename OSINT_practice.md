
---

### **Практическая работа №2 : Основы проактивной безопасности - OSINT и сканирование**

**Цель работы:** Научиться проводить пассивную и активную разведку с помощью OSINT-инструментов для сбора информации о цели в законных и этических целях.

**Время выполнения:** 3 часа
**Уровень сложности:** Начальный

**ВАЖНОЕ ПРЕДУПРЕЖДЕНИЕ (ОТВЕТСТВЕННОСТЬ):**
Вся информация предоставляется только в учебных целях. Проводите разведку **ТОЛЬКО** против тех целей, которыми вы владеете (например, ваш собственный сайт, домен, аккаунты в соцсетях) или для которых имеете **ПИСЬМЕННОЕ РАЗРЕШЕНИЕ**. Несанкционированный сбор информации является нарушением закона.

---

### **Теоретическая часть (Обязательна к прочтению!)**

#### **Что такое OSINT?**
OSINT (Open Source INTelligence) — это сбор и анализ информации из открытых источников. Это не взлом! Вы просто собираете "цифровые крошки", которые люди и организации оставляют в интернете.

#### **Пассивная vs. Активная разведка:**
*   **Пассивная разведка:** Вы собираете информацию, не вступая в прямой контакт с целевой системой. Цель не знает, что её изучают. Пример: поиск в Google, анализ профилей в соцсетях.
*   **Активная разведка:** Вы напрямую взаимодействуете с целевой системой. Это может быть зафиксировано в логах. Пример: сканирование портов, попытка подключения к веб-серверу.

---

### **Часть 1: Пассивная разведка с помощью Google Dorks и GHDB**

**Цель:** Научиться использовать продвинутые операторы поиска Google для поиска конфиденциальной информации, ошибочно оставленной в открытом доступе.

**Что такое Google Dorks?** Это специальные поисковые операторы, которые позволяют точно настроить запрос и найти то, что обычно скрыто от обычного поиска.

**Шаг 1: Изучим основные операторы**
*   `site:` — поиск только на указанном сайте. Пример: `site:github.com`
*   `inurl:` — поиск страниц, в URL которых есть указанное слово. Пример: `inurl:admin`
*   `intitle:` — поиск страниц, в заголовке которых есть указанное слово. Пример: `intitle:"Index of"`
*   `filetype:` — поиск файлов определенного типа. Пример: `filetype:pdf`
*   `"точная фраза"` — поиск страниц, содержащих точную фразу в кавычках.

**Шаг 2: Практическое задание (используйте свою цель или учебные примеры)**
1.  Найдите файлы с паролями. Попробуйте запрос:
    `site:example.com filetype:txt "password"` (замените `example.com` на ваш учебный домен).
2.  Найдите открытые каталоги (папки) на веб-серверах. Запрос:
    `intitle:"index of" "parent directory"`
3.  Найдите веб-камеры, доступные для просмотра. Запрос:
    `inurl:"viewerframe?mode=motion"`

**Шаг 3: Использование Google Hacking Database (GHDB)**
GHDB — это огромная база готовых "дорков" для поиска уязвимостей, чувствительных данных и т.д.
1.  Перейдите на сайт `exploit-db.com/google-hacking-database`.
2.  Изучите категории (например, "Files containing usernames", "Vulnerable Files").
3.  Выберите несколько интересных запросов и попробуйте выполнить их в Google (опять же, только против своих учебных целей!).

---

### **Часть 2: Пассивная разведка с помощью theHarvester**

**Цель:** Научиться автоматизировать сбор email-адресов, имен пользователей, поддоменов и IP-адресов, связанных с доменом.

**Что такое theHarvester?** Это простой, но мощный инструмент командной строки, написанный на Python, который собирает данные из разных публичных источников (Google, Bing, LinkedIn, Shodan и др.).

**Шаг 1: Установка (если не установлена)**
*   В Kali Linux он предустановлен.
*   В других системах: `sudo apt install theharvester`

**Шаг 2: Базовое использование**
Откройте терминал и выполните команду:
```bash
theHarvester -d example.com -l 100 -b google
```
*   `-d example.com` — целевой домен.
*   `-l 100` — ограничивает количество результатов (100).
*   `-b google` — источник данных (в данном случае — Google). Можно использовать `bing`, `linkedin` и др.

**Шаг 3: Практическое задание**
1.  Проведите разведку против своего домена или `google.com` (в учебных целях).
2.  Используйте разные источники: `-b google,bing,linkedin`.
3.  Сохраните результаты в файл для дальнейшего анализа: `-f my_report.html`
    *   Пример полной команды: `theHarvester -d example.com -l 200 -b google,bing -f my_report`

**Проанализируйте вывод:** Вы увидите email-адреса, хосты (поддомены) и, возможно, IP-адреса, связанные с целевым доменом.

---

### **Часть 3: Визуализация разведданных с помощью Maltego**

**Цель:** Научиться строить графические связи между собранными данными для лучшего понимания структуры цели.

**Что такое Maltego?** Это платформа для визуальной разведки и установления связей между различными объектами (люди, компании, домены, IP-адреса и т.д.).

**Шаг 1: Регистрация и запуск**
1.  Зарегистрируйте бесплатный аккаунт на сайте Maltego.
2.  Скачайте и установите клиент Maltego CE (Community Edition).
3.  Запустите и войдите в свой аккаунт.

**Шаг 2: Создаем первую трансформацию**
1.  Создайте новый граф (`File` -> `New Graph`).
2.  Слева находится палитра сущностей (Entities). Найдите и перетащите на холст сущность `Domain`.
3.  Дважды щелкните на ней и введите имя вашего учебного домена (например, `example.com`).
4.  Щелкните правой кнопкой мыши на домене -> `Run Transform` -> Выберите, например, `To DNS name - MX (Mail Servers)` или `To Website [using Search Engine]`.

**Шаг 3: Практическое задание**
1.  Начните с домена.
2.  Проведите трансформации, чтобы найти:
    *   Почтовые серверы (MX-записи).
    *   IP-адреса (A-записи).
    *   Связанные веб-сайты.
    *   Контакты (Email addresses), связанные с доменом.
3.  Maltego автоматически построит граф, наглядно показывающий связи между всеми этими объектами. Это помогает увидеть "общую картину" цифрового следа цели.

---

### **Часть 4: Автоматизация сбора и сохранения веб-контента с помощью Hunchly**

**Цель:** Понять важность документирования в OSINT. Hunchly автоматически сохраняет каждую посещенную страницу, чтобы вы могли доказать, откуда была получена информация.

**Что такое Hunchly?** Это расширение для браузера (Chrome), которое незаметно сохраняет скриншоты и HTML-код всех посещенных вами страниц в рамках расследования.

**Шаг 1: Установка и настройка**
1.  Установите расширение Hunchly из Chrome Web Store.
2.  Создайте аккаунт и настройте его.

**Шаг 2: Практическое задание**
1.  Создайте в Hunchly новое дело (Case) с названием "Учебная разведка".
2.  Включите захват страниц.
3.  Теперь выполните любые действия из предыдущих частей работы (поиск в Google, просмотр профилей в соцсетях и т.д.) в этом же браузере.
4.  Hunchly будет автоматически сохранять всю историю ваших действий, создавая неопровержимое доказательство того, где и когда вы нашли информацию.

---

### **Итоговое задание и отчет**

**Задание:** Проведите комплексную OSINT-разведку против выбранной вами учебной цели (например, ваш собственный блог, тестовый домен, публичная компания с вашего разрешения).

**Структура отчета:**
1.  **Цель исследования:** Описать, какую цель вы выбрали и почему.
2.  **Методология:** Кратко описать, какие инструменты и методы вы использовали.
3.  **Результаты:**
    *   Список найденных email-адресов (из theHarvester).
    *   Список обнаруженных поддоменов и IP-адресов.
    *   Скриншот графа связей из Maltego.
    *   Примеры чувствительной информации, найденной с помощью Google Dorks.
    *   Скриншот из Hunchly, показывающий сохраненные страницы.
4.  **Выводы:** Проанализируйте, насколько велик "цифровой след" вашей цели. Какая найденная информация может быть использована злоумышленником для дальнейшей атаки? Какие рекомендации по защите вы можете дать?

